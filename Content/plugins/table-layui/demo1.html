<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>表格</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../../css/common.css"/>
  <link rel="stylesheet" href="../layui/css/layui.css"  media="all">
  <script src="../../js/jquery-2.0.3.min.js"></script>
  <script src="../layui/layui.js" charset="utf-8"></script>
</head>
<body>
	<table id="demo" lay-filter="test"></table>
	
<script>
	layui.use('table', function(){
	  	var table = layui.table;
	  	
	    //展示已知数据
	  	table.render({
		    elem: '#demo',
		    url: 'user.json?page=1',
//			where: {token: 'sasasas', id: 123}, //如果无需传递额外参数，可不加该参数
//	  		method: 'post', 
//			request: {//如果无需自定义请求参数，可不加该参数
//				pageName: 'curr', //页码的参数名称，默认：page
//				limitName: 'nums' //每页数据量的参数名，默认：limit
//			}, 
//			response: {//如果无需自定义数据响应名称，可不加该参数
//				statusName: 'status', //数据状态的字段名称，默认：code
//			    statusCode: 200, //成功的状态码，默认：0
//			    msgName: 'hint', //状态信息的字段名称，默认：msg
//			    countName: 'total', //数据总数的字段名称，默认：count
//			    dataName: 'rows' //数据列表的字段名称，默认：data
//			}, 
	    	height: 355,//55+30*10,//10-->limit,55-->layui-table-tool
	    	cols: [[ //标题栏
	      		{field: 'id', title: '序号', width: 80, sort: true},
	      		{field: 'username', title: '用户名', width: 120},
	      		{field: 'sex', title: '性别', width: 80},
	      		{field: 'city', title: '城市', width: 120},
	      		{field: 'sign', title: '签名', width: 120, sort: true},
	      		{field: 'experience', title: '积分', width: 80},
	      		{field: 'logins', title: '评分', width: 80},
	      		{field: 'wealth', title: '财富', width: 150},
	      		{field: 'classify', title: '职业', width: 100},
	      		{field: 'score', title: '得分', width: 80}
	    	]], 
		    even: true,
		    page: true, //是否显示分页
		    limit: 10 //每页默认显示的数量
		});
	});
	
	
	computeWidth();
	function computeWidth(){
		var $layuiTable = $('.layui-table-main table');
		if($layuiTable.width()){
			setTimeout(function(){
				$('.layui-table-view').css('width',$layuiTable.width()+1+'px');
			},10)
		}else{
			setTimeout(function(){
				computeWidth();
			},10)
			
		}
	}
	
</script>

</body>
</html>
